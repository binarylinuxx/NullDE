# cppwal

[![Codeberg](https://img.shields.io/badge/hosted%20on-Codeberg-blue?logo=codeberg)](https://codeberg.org/YOUR_USERNAME/cppwal)
![License: GPL v3](https://img.shields.io/badge/license-GPLv3-blue.svg)

A fast, modern color scheme generator written in C++, inspired by [pywal](https://github.com/dylanaraps/pywal). cppwal extracts a palette from an image and applies it to your desktop, terminal, and more. Designed for speed, flexibility, and easy integration with C++ projects and dotfiles.

---

## Features
- Extracts 16-color palettes from images using ImageMagick
- Template system for generating config files (CSS, Kitty, etc.)
- Supports color filters (desaturate, darken, etc.)
- Simple config file in `~/.config/cppwal/config.ini`
- Drop-in replacement for pywal in many workflows

## Dependencies
- **C++17** or newer
- [ImageMagick](https://imagemagick.org/) (for color extraction)

## Installation
You can use the provided install script, or build manually:

### Automated install
```sh
./install.sh
```
This will build cppwal and copy the binary to `/usr/bin` (requires sudo).

### Manual install
```sh
mkdir -p build
cd build
cmake ..
make
sudo cp cppwal /usr/bin
```

## Usage
```sh
cppwal <image_path>
```
Example:
```sh
cppwal ~/Pictures/wallpapers/sunset.jpg
```

- This will extract colors and generate template files as configured.
- To see help:
  ```sh
  cppwal --help
  ```

## Configuration
Edit `~/.config/cppwal/config.ini` to add or customize templates. Example:
```ini
[template.kitty]
template_path = /home/youruser/cppwal/kitty-colors.conf
output_path = ~/.config/kitty/colors.conf
```

## Templates
Templates use double curly braces for variables, e.g.:
```css
@define-color color0 {{color.hex.0}};
@define-color background {{color.hex.bg}};
@define-color foreground {{color.hex.fg}};
@define-color desaturated {{color.hex.1 | dcel_50}};
@define-color darkened {{color.hex.2 | dcol_20}};
```
- `bg` and `fg` are mapped to color0 and color7, respectively (like pywal).
- Filters: `dcel_50` (desaturate 50%), `dcol_20` (darken 20%), etc.

## Migration Note
This project was previously hosted on GitHub and is now maintained on [Codeberg](https://codeberg.org/YOUR_USERNAME/cppwal). Please update your bookmarks and report issues on Codeberg.

## License
GPL-3.0. See [LICENSE](./LICENSE).

---

**Contributions welcome!** 